class Num
   attr_accessor :number
   
   def initialize(number)
        @number = number 
   end
   
   def magic
       arr = Array.new(@number){Array.new(@number)}
       
        y = @number/2
        x = @number -1
        
        arr[y][x] = 1
        
        ytmp = y
        xtmp = x
      
        for i in 2..@number*@number
            xtmp += 1
            ytmp -= 1
    
            xtmp -= @number if xtmp == @number
            ytmp += @number if ytmp == -1
            if arr[ytmp][xtmp] == nil
                arr[ytmp][xtmp] = i
                y = ytmp
                x = xtmp
            else
                x -= 1
                x += @number if x == -1
                ytmp = y
                xtmp = x
                arr[ytmp][xtmp] = i
            end
        end
        
        p *arr
    end
    
end

puts "please enter number"

number = gets.to_i

test = Num.new(number)
test.magic